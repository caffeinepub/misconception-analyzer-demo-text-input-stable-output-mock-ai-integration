{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [
    "Do not call Gemini directly from the React/frontend; route requests through the backend/service to avoid exposing the API key and CORS/browser restrictions.",
    "Environment variables in Vite must be prefixed with VITE_ to be available to the frontend build; otherwise they will not load."
  ],
  "known_issues": [
    "Deployment failing due to incorrect Gemini API key integration (env var not loading / frontend attempting direct Gemini call causing CORS and key exposure)."
  ],
  "isFixRequest": true,
  "existing_features": [],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement a public backend canister method `analyzeExplanation(explanation : Text) : async ExplanationAnalysis` in `backend/main.mo` that produces a non-placeholder `{ misconception; whyFailed }` result derived from the caller-provided explanation text.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Use the provided Gemini API key exactly as given (`AIzaSyCcSIgdCctZbO4NGcGY81XoWsfrL1EaEqw`) for the backend’s Gemini call, and ensure the frontend never calls Gemini directly and never embeds/exposes the API key in browser-delivered code.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Update the backend so that when it calls Gemini it uses the existing analysis intent reflected by the app’s prompt (misconception detection + why the mental model failed), and map the model response into `ExplanationAnalysis` (`misconception`, `whyFailed`).",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Fix Gemini API key integration and perform analysis via backend canister",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}